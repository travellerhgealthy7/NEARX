(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6038:function(e,t,a){Promise.resolve().then(a.bind(a,8839))},8839:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(5658),s=a(2695),n=a(7813),r=a(9836);let i=r.Ry({service:r.Z_(),status:r.Z_(),timestamp:r.Z_()}),o=r.Ry({id:r.Z_(),firstName:r.Z_(),lastName:r.Z_().nullable().optional(),email:r.Z_().nullable().optional(),phoneNumber:r.Z_().nullable().optional()}),c=r.Ry({token:r.Z_(),user:o}),d=r.Ry({firstName:r.Z_().min(3),lastName:r.Z_().optional(),email:r.Z_().email().optional(),phoneNumber:r.Z_().min(10).optional(),password:r.Z_().min(6)}),u=r.Ry({email:r.Z_().email().optional(),phoneNumber:r.Z_().min(10).optional(),password:r.Z_().min(6)});function m(){let[e,t]=(0,s.useState)("http://localhost:3000/api"),[a,r]=(0,s.useState)("operator@example.com"),[m,p]=(0,s.useState)("nearx123"),[x,h]=(0,s.useState)(null),[f,b]=(0,s.useState)(null),[g,N]=(0,s.useState)(!1),y=async t=>{t.preventDefault(),h(null),b(null),N(!0);try{let t=function(e){let{baseUrl:t,axiosConfig:a}=e;if(!t)throw Error("baseUrl is required to create a NEARX API client");let l=n.Z.create({baseURL:t,...a});return{async health(){let e=await l.get("/identity/health");return i.parse(e.data)},async register(e){let t=d.parse(e),a=await l.post("/identity/register",t);return o.parse(a.data)},async login(e){let t=u.parse(e),a=await l.post("/identity/login",t);return c.parse(a.data)}}}({baseUrl:e}),l=await t.login({email:a,password:m});b(l.token),h("Welcome back, ".concat(l.user.firstName,"!"))}catch(e){h(e instanceof Error?e.message:"Failed to login. Check backend status.")}finally{N(!1)}};return(0,l.jsxs)("main",{className:"min-h-screen flex flex-col items-center justify-center p-8 gap-8",children:[(0,l.jsxs)("section",{className:"max-w-xl w-full space-y-4",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-center text-emerald-600",children:"NEARX Admin"}),(0,l.jsx)("p",{className:"text-center text-slate-600",children:"Authenticate with the identity service to access proximity-first operations tools."})]}),(0,l.jsxs)("form",{onSubmit:e=>{y(e)},className:"max-w-xl w-full bg-white shadow rounded-xl p-6 space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-600",children:"API Base URL"}),(0,l.jsx)("input",{value:e,onChange:e=>t(e.target.value),className:"mt-1 w-full rounded border border-slate-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-400",placeholder:"http://localhost:3000/api",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-600",children:"Email"}),(0,l.jsx)("input",{type:"email",value:a,onChange:e=>r(e.target.value),className:"mt-1 w-full rounded border border-slate-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-400",placeholder:"operator@example.com",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-600",children:"Password"}),(0,l.jsx)("input",{type:"password",value:m,onChange:e=>p(e.target.value),className:"mt-1 w-full rounded border border-slate-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-400",required:!0})]}),(0,l.jsx)("button",{type:"submit",disabled:g,className:"w-full rounded bg-emerald-500 py-2 font-semibold text-white hover:bg-emerald-600 disabled:opacity-60",children:g?"Signing in...":"Sign in"}),x&&(0,l.jsx)("p",{className:"text-sm text-slate-600","data-testid":"status-message",children:x}),f&&(0,l.jsxs)("div",{className:"rounded border border-emerald-200 bg-emerald-50 p-3 text-sm",children:[(0,l.jsx)("p",{className:"font-medium text-emerald-700",children:"Session Token"}),(0,l.jsx)("code",{className:"break-all text-emerald-600",children:f})]})]})]})}}},function(e){e.O(0,[220,960,297,744],function(){return e(e.s=6038)}),_N_E=e.O()}]);